<% presenter = Communities::ShowPresenter.new(self, @community, @topics, @search, @target) %>

<% content_for(:head) do %>
  <title><%= presenter.page_title %></title>
  <%= stylesheet_pack_tag 'communities/show', media: 'all' %>
<% end %>

<% content_for(:tail) do %>
  <%= javascript_pack_tag 'CommunitiesShowPack', nonce: true %>
<% end %>

<div class="bg-gray-100">
  <div class="community-hero__container flex bg-white border-b border-primary-200 py-8">
    <div class="max-w-3xl w-full flex flex-col items-center justify-center mx-auto px-3 md:px-0">
      <h1 class="text-center font-normal text-2xl md:text-4xl leading-tight">
        Welcome to the
        <span class="block font-bold text-3xl md:text-5xl"><%= @community.name %> Community</span>
      </h1>
      <div class="max-w-lg flex w-full mt-3">

        <%= form_tag community_path(@community), method: 'get', class: "w-full flex flex-row justify-between items-center relative" do %>
          <% if @target.present? %>
            <%= hidden_field_tag "target_id", @target.id %>
          <% end %>
          <%= text_field_tag :search, @search, placeholder: "Search...", class: "appearance-none block w-full shadow bg-white text-gray-700 border border-primary-200 rounded py-3 pl-4 pr-12 leading-tight focus:outline-none focus:bg-white focus:border-primary-400 focus:shadow-md" %>
          <%= button_tag(type: "submit", class: "absolute right-0 w-8 h-8 mr-3 rounded-full bg-gray-200 text-gray-600 hover:bg-primary-100 hover:text-primary-500 flex items-center justify-center focus:outline-none focus:text-primary-500") do %>
            <i title="Search" class="fas fa-search text-lg"></i>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
  <script type="application/json" id="react-root-data"><%= presenter.props_to_json.html_safe %></script>
  <div id="react-root">
  </div>
</div>
